
# نظام إدارة مهام الموظفين

نظام متكامل لإدارة مهام الموظفين وتتبع المصروفات المرتبطة بالمهام والمأموريات، مع دعم متعدد البنوك وأنواع المصروفات المختلفة. النظام مصمم لخدمة المؤسسات العربية ويوفر واجهة باللغة العربية.

## 📋 نظرة عامة

هذا النظام عبارة عن تطبيق ويب متكامل يتكون من:
- **واجهة أمامية**: React مع TypeScript
- **خادم خلفي**: Express.js مع Node.js
- **قاعدة بيانات**: PostgreSQL مع Drizzle ORM

## 🚀 الميزات الرئيسية

### إدارة الموظفين
- البحث عن الموظفين بالكود أو الاسم
- عرض معلومات الموظف (الكود، الاسم، الفرع)
- ربط الموظف بالمهام والمأموريات

### إدارة المهام
- تسجيل تفاصيل المهمة (التاريخ، البنك، البيان)
- ربط المهمة بموظف محدد
- حفظ واستعادة بيانات المهام محلياً

### إدارة المصروفات
- إضافة أصناف المصروفات المختلفة
- تحديد المبالغ لكل صنف
- ربط المصروفات بالبنوك المختلفة
- حساب المجاميع الكلية تلقائياً

### توزيع البنوك
- عرض المصروفات موزعة على البنوك
- عرض مخططات بيانية للتوزيع
- حساب النسب المئوية لكل بنك

## 🛠 التقنيات المستخدمة

### الواجهة الأمامية
- **React 18** - مكتبة بناء الواجهات
- **TypeScript** - لغة البرمجة مع أنواع البيانات
- **Vite** - أداة البناء والتطوير
- **Tailwind CSS** - إطار عمل التصميم
- **Shadcn/ui** - مكتبة مكونات الواجهة
- **React Query** - إدارة حالة الخادم
- **React Hook Form** - إدارة النماذج
- **Zod** - التحقق من صحة البيانات

### الخادم الخلفي
- **Express.js** - إطار عمل الخادم
- **Node.js** - بيئة تشغيل JavaScript
- **TypeScript** - لغة البرمجة
- **Drizzle ORM** - أداة قاعدة البيانات

### قاعدة البيانات
- **PostgreSQL** - قاعدة البيانات الرئيسية
- **Neon Database** - خدمة PostgreSQL السحابية

## 📁 هيكل المشروع

```
├── client/                 # الواجهة الأمامية
│   ├── src/
│   │   ├── components/     # المكونات القابلة لإعادة الاستخدام
│   │   │   ├── ui/         # مكونات الواجهة الأساسية
│   │   │   ├── employee-lookup.tsx
│   │   │   ├── mission-details.tsx
│   │   │   ├── expense-management.tsx
│   │   │   └── bank-distribution.tsx
│   │   ├── hooks/          # خطافات React المخصصة
│   │   ├── lib/            # مكتبات مساعدة
│   │   ├── pages/          # صفحات التطبيق
│   │   ├── types/          # تعريفات أنواع البيانات
│   │   └── App.tsx         # المكون الرئيسي
│   └── index.html          # ملف HTML الأساسي
├── server/                 # الخادم الخلفي
│   ├── index.ts            # نقطة البداية
│   ├── routes.ts           # مسارات API
│   ├── storage.ts          # طبقة تخزين البيانات
│   └── vite.ts             # إعدادات Vite
├── shared/                 # الكود المشترك
│   └── schema.ts           # مخططات البيانات المشتركة
└── package.json            # إعدادات npm
```

## 🚀 التشغيل والتطوير

### متطلبات النظام
- Node.js 20+
- PostgreSQL 16+
- npm أو yarn

### خطوات التشغيل

1. **تثبيت المتطلبات**
```bash
npm install
```

2. **إعداد قاعدة البيانات**
```bash
npm run db:push
```

3. **تشغيل وضع التطوير**
```bash
npm run dev
```

4. **فتح التطبيق**
انتقل إلى `http://localhost:5000`

### أوامر مفيدة

```bash
# تطوير التطبيق
npm run dev

# بناء التطبيق للإنتاج
npm run build

# تشغيل التطبيق في وضع الإنتاج
npm start

# فحص أنواع البيانات
npm run check

# دفع تغييرات قاعدة البيانات
npm run db:push
```

## 🔧 الإعدادات

### متغيرات البيئة
```env
PORT=5000                   # منفذ الخادم
NODE_ENV=development        # بيئة التشغيل
DATABASE_URL=               # رابط قاعدة البيانات
```

### ملفات الإعداد المهمة
- `tailwind.config.ts` - إعدادات Tailwind CSS
- `components.json` - إعدادات مكونات Shadcn/ui
- `drizzle.config.ts` - إعدادات قاعدة البيانات
- `.replit` - إعدادات بيئة Replit

## 📊 نموذج البيانات

### الموظفين (Employees)
```typescript
{
  id: string,          // معرف فريد
  code: number,        // كود الموظف
  name: string,        # اسم الموظف
  branch: string       # الفرع
}
```

### البنوك (Banks)
```typescript
{
  id: string,          // معرف فريد
  name: string,        # اسم البنك
  code: string         # كود البنك
}
```

### المهام (Missions)
```typescript
{
  id: string,              // معرف فريد
  employeeId: string,      // معرف الموظف
  missionDate: string,     # تاريخ المهمة
  bank: string,            # البنك
  statement: string,       # البيان
  expenses: ExpenseItem[], # قائمة المصروفات
  totalAmount: number      // المبلغ الكلي
}
```

## 🎨 الواجهة والتصميم

### نظام الألوان
- **الأساسي**: Blue (#3B82F6)
- **الثانوي**: Gray (#6B7280)
- **النجاح**: Green (#10B981)
- **الخطر**: Red (#EF4444)

### المكونات الرئيسية
- **البحث عن الموظفين**: مكون للبحث والاختيار
- **تفاصيل المهمة**: نموذج إدخال بيانات المهمة
- **إدارة المصروفات**: جدول تفاعلي للمصروفات
- **توزيع البنوك**: مخططات بيانية ونسب مئوية

## 🔒 الأمان

- التحقق من صحة البيانات باستخدام Zod
- حماية API endpoints
- تشفير البيانات الحساسة
- إدارة جلسات المستخدمين

## 📱 الاستجابة للأجهزة

التطبيق مصمم ليعمل بشكل مثالي على:
- أجهزة سطح المكتب
- الأجهزة اللوحية
- الهواتف الذكية

## 🚀 النشر

### النشر على Replit
1. ارفع الكود إلى Replit
2. اضبط متغيرات البيئة
3. اضغط على زر "Run"
4. استخدم أداة Deployments لنشر التطبيق

### بناء الإنتاج
```bash
npm run build
```

## 🤝 المساهمة

لالمساهمة في تطوير المشروع:

1. انشئ Fork من المستودع
2. أنشئ فرع جديد للميزة
3. اكتب الكود مع الاختبارات
4. أرسل Pull Request

## 📞 الدعم والمساعدة

للحصول على المساعدة:
- راجع الوثائق أعلاه
- تحقق من Issues في GitHub
- اتصل بفريق التطوير

## 📝 الرخصة

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

---

© 2024 نظام إدارة مهام الموظفين. جميع الحقوق محفوظة.
